!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.r(e);var o=function(){function t(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.changed=!1,r?(this._x=e,this._y=n,this._uA=!0,this._uM=!0):(this._a=e,this._m=n,this._uC=!0)}var e,n,o;return e=t,o=[{key:"clone",value:function(e){return new t(e.x,e.y)}},{key:"add",value:function(e,n){return new t(e.x+n.x,e.y+n.y)}},{key:"neg",value:function(e){return new t(-1*e.x,-1*e.y)}},{key:"sub",value:function(e,n){return new t(e.x-n.x,e.y-n.y)}}],(n=[{key:"updateCartesian",value:function(){this._uC=!1,this._x=Math.cos(this._a)*this._m,this._y=Math.sin(this._a)*this._m}},{key:"updateAngle",value:function(){this._uA=!1,this._a=Math.atan2(this._y,this._x)}},{key:"updateMagnitude",value:function(){this._uM=!1,this._m=Math.sqrt(this._x*this._x+this._y*this._y)}},{key:"add",value:function(t){this.x+=t.x,this.y+=t.y}},{key:"neg",value:function(){this.x*=-1,this.y*=-1}},{key:"sub",value:function(t){this.x-=t.x,this.y-=t.y}},{key:"x",get:function(){return this._uC&&this.updateCartesian(),this._x},set:function(t){this.changed=!0,this._uA=!0,this._uM=!0,this._x=t}},{key:"y",get:function(){return this._uC&&this.updateCartesian(),this._y},set:function(t){this.changed=!0,this._uA=!0,this._uM=!0,this._y=t}},{key:"a",get:function(){return this._uA&&this.updateAngle(),this._a},set:function(t){this.changed=!0,this._uC=!0,this._a=t}},{key:"m",get:function(){return this._uM&&this.updateMagnitude(),this._m},set:function(t){this.changed=!0,this._uC=!0,this._m=t}}])&&r(e.prototype,n),o&&r(e,o),t}();function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var u=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.o=e,this.d=n,this._t=o.add(e,n),this._dr=new o,this._rw=new o,this._lw=new o,this._w=r,this.wchanged=!0}var e,n,r;return e=t,(n=[{key:"updateWings",value:function(){this._dr.changed=!1,this._lw.x=this.o.x-this._dr.x,this._lw.y=this.o.y-this._dr.y,this._rw.x=this.o.x+this._dr.x,this._rw.y=this.o.y+this._dr.y}},{key:"t",get:function(){return(this.o.changed||this.d.changed)&&(this.o.changed=!1,this.d.changed&&this.dr,this._t.x=this.o.x+this.d.x,this._t.y=this.o.y+this.d.y),this._t},set:function(t){}},{key:"dr",get:function(){return(this.d.changed||this.wchanged)&&(this.d.changed=!1,this.wchanged=!1,this._dr.a=this.d.a+.5*Math.PI,this._dr.m=this._w),this._dr},set:function(t){}},{key:"lw",get:function(){return(this.o.changed||this.d.changed)&&this.t,this.wchanged&&this.dr,this.dr.changed&&this.updateWings(),this._lw},set:function(t){}},{key:"rw",get:function(){return(this.o.changed||this.d.changed)&&this.t,this.wchanged&&this.dr,this.dr.changed&&this.updateWings(),this._rw},set:function(t){}},{key:"w",get:function(){return this._w},set:function(t){this.wchanged=!0,this._w=t}}])&&i(e.prototype,n),r&&i(e,r),t}();function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var l=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.p=e,this.C=n,this.SV=o,this.LV=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(n,!0).forEach(function(e){c(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},r),this.behaviours=i,this.renders=u}var e,n,r;return e=t,(n=[{key:"step",value:function(){var t=!0,e=!1,n=void 0;try{for(var r,o=this.behaviours[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){(0,r.value)(this,this.p)}}catch(t){e=!0,n=t}finally{try{t||null==o.return||o.return()}finally{if(e)throw n}}}},{key:"render",value:function(){var t=!0,e=!1,n=void 0;try{for(var r,o=this.renders[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){(0,r.value)(this,this.p)}}catch(t){e=!0,n=t}finally{try{t||null==o.return||o.return()}finally{if(e)throw n}}}}])&&s(e.prototype,n),r&&s(e,r),t}();function f(t,e,n,r,i){return new u(new o(t,e),new o(n,r,!1),i)}function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(n,!0).forEach(function(e){y(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var d=function(){function t(e,n,r,o,i,u){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.p=e,this.root=new l(this.p,f(n,r,o,i,u),p({},a),p({},c),[],[])}var e,n,r;return e=t,(n=[{key:"step",value:function(){this.root.step()}},{key:"render",value:function(){this.root.render()}}])&&b(e.prototype,n),r&&b(e,r),t}();function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(n,!0).forEach(function(e){O(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m(t,e){return!e||"object"!==v(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function j(t,e,n){return(j="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=P(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function P(t){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function S(t,e){return(S=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var x=function(t){function e(t,n,r,o,i,u){var a,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:.5;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(a=m(this,P(e).call(this,t,n,r,o,0,0,w({},{N:[],c:0,FULL_LENGTH:i,FULL_WIDTH:u,GROW_STATE:0},{},c),w({},{GROW_RATE:l,TREE_STATE:1},{},s)))).p=t,a.root.behaviours.push(a.grow,a.branch,a.stepChildren),a}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S(t,e)}(e,d),n=e,(r=[{key:"step",value:function(){this.root.SV.TREE_STATE=1,j(P(e.prototype),"step",this).call(this)}},{key:"grow",value:function(t,e){0==t.LV.GROW_STATE&&(t.SV.TREE_STATE=0,t.LV.c+=(1-t.LV.c)*t.SV.GROW_RATE,t.C.d.m=t.LV.c*t.LV.FULL_LENGTH,t.C.w=t.LV.c*t.LV.FULL_WIDTH,e.round(100*t.LV.c)/100==1&&(t.LV.GROW_STATE=1,t.LV.c=1))}},{key:"branch",value:function(t,e){if(1==t.LV.GROW_STATE){var n=new l(e,f(t.C.t.x,t.C.t.y,t.C.d.a,0,t.C.w),t.LV,t.SV,t.behaviours,t.renders);return n.LV.N=[],n.LV.c=0,n.LV.GROW_STATE=0,t.LV.N.push(n),t.LV.GROW_STATE=2,!0}return!1}},{key:"stepChildren",value:function(t){var e=!0,n=!1,r=void 0;try{for(var o,i=t.LV.N[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){o.value.step()}}catch(t){n=!0,r=t}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}}}])&&_(n.prototype,r),o&&_(n,o),e}();function T(t){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function E(t,e){return!e||"object"!==T(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function C(t,e,n){return(C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=L(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function L(t){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function R(t,e){return(R=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var A=function(t){function e(t,n,r,o,i,u){var a,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:.5,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:10;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(a=E(this,L(e).call(this,t,n,r,o,i,u,{},{COUNT:s},c))).p=t,a.root.behaviours.splice(1,0,a.checkLength),a.root.renders.push(a.plotVertex),a}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&R(t,e)}(e,x),n=e,(r=[{key:"render",value:function(){this.p.beginShape(),C(L(e.prototype),"render",this).call(this),this.p.endShape()}},{key:"checkLength",value:function(t){1==t.LV.GROW_STATE&&0==t.SV.COUNT&&(t.LV.GROW_STATE=2)}},{key:"branch",value:function(t,n){C(L(e.prototype),"branch",this).call(this,t,n)&&t.SV.COUNT--}},{key:"plotVertex",value:function(t,e){e.vertex(t.C.lw.x,t.C.lw.y),t.LV.N.length>0?t.LV.N.map(function(t){return t.render()}):e.vertex(t.C.t.x,t.C.t.y),e.vertex(t.C.rw.x,t.C.rw.y),e.vertex(t.C.lw.x,t.C.lw.y),e.vertex(t.C.rw.x,t.C.rw.y)}}])&&k(n.prototype,r),o&&k(n,o),e}();function V(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var W=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.p=e,this.BORDER=n,this.t=new A(e,.5*e.width,e.height-2*n,e.radians(-90),50,25,.1,10)}var e,n,r;return e=t,(n=[{key:"algo",value:function(){this.t.step(),this.t.render()}}])&&V(e.prototype,n),r&&V(e,r),t}();function G(t){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function D(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function N(t,e){return!e||"object"!==G(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function H(t,e,n){return(H="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=M(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function M(t){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function I(t,e){return(I=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var B=function(t){function e(t,n,r,o,i,u){var a,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:.5,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:45,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:color(0,125,0),f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:100;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(a=N(this,M(e).call(this,t,n,r,o,i,u,{},{BRANCH_ANG:s,BORDER:f},c))).p=t,a.root.behaviours.splice(1,0,a.detectBounds),a.root.renders.push(a.plotVertex),a.COLOR=l,a.ALPHA=256,a}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&I(t,e)}(e,x),n=e,(r=[{key:"render",value:function(){1==this.root.SV.TREE_STATE&&(this.ALPHA+=-this.ALPHA*this.root.SV.GROW_RATE),this.COLOR.setAlpha(this.ALPHA),this.p.fill(this.COLOR),this.p.beginShape(),this.p.noStroke(),H(M(e.prototype),"render",this).call(this),this.p.endShape()}},{key:"detectBounds",value:function(t,e){var n=t.SV.BORDER;1==t.LV.GROW_STATE&&(t.C.t.x<n||t.C.t.x>e.width-n||t.C.t.y<n||t.C.t.y>e.height-n)&&(t.LV.GROW_STATE=2)}},{key:"branch",value:function(t,n){H(M(e.prototype),"branch",this).call(this,t,n)&&(t.LV.N[t.LV.N.length-1].C.d.a+=n.radians((n.random()<.5?-1:1)*t.SV.BRANCH_ANG))}},{key:"plotVertex",value:function(t,e){e.vertex(t.C.lw.x,t.C.lw.y),t.LV.N.length>0?t.LV.N.map(function(t){return t.render()}):(e.vertex(t.C.t.x,t.C.t.y),e.ellipse(t.C.t.x,t.C.t.y,25)),e.vertex(t.C.rw.x,t.C.rw.y)}}])&&D(n.prototype,r),o&&D(n,o),e}();function U(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function F(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var q,z,J,K=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.p=e,this.BORDER=n,this.trees=[],this.setups=[{WEIGHT:1,l:50,w:2,gr:.3,bd:2.5,clr:[108,192,229]},{WEIGHT:2,l:75,w:25,gr:.1,bd:4,clr:[251,79,79]},{WEIGHT:1,l:25,w:5,gr:.9,bd:2,clr:[251,201,6]}],this.totWeight=this.setups.reduce(function(t,e){var n=e.WEIGHT;return e.WEIGHT+=t,t+=n},0)}var e,n,r;return e=t,(n=[{key:"makeNew",value:function(){var t,e,n=this.p.random(this.totWeight),r=!0,o=!1,i=void 0;try{for(var u,a=this.setups[Symbol.iterator]();!(r=(u=a.next()).done);r=!0){var c=u.value;if(n<c.WEIGHT){e=c;break}}}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return new B(this.p,.5*this.p.width,.5*this.p.height,this.p.radians(this.p.random([0,90,180,270])),e.l,e.w,e.gr,180/e.bd,(t=this.p).color.apply(t,U(e.clr)),this.BORDER)}},{key:"algo",value:function(){for(;this.trees.length<15;)this.trees.push(this.makeNew());this.trees.map(function(t){return t.step()}),this.trees.map(function(t){return t.render()}),this.trees=this.trees.filter(function(t){return t.ALPHA>.1})}}])&&F(e.prototype,n),r&&F(e,r),t}();n(0),new p5(function(t){t.setup=function(){switch(t.createCanvas(t.windowWidth,t.windowHeight),q=t.width-200,z=t.height-200,new URL(window.location.href).searchParams.get("type")){case"flower":break;case"primitive":J=new W(t,100);break;default:J=new K(t,100)}},t.draw=function(){t.background(220),t.noFill(),t.stroke(150),t.rect(100,100,q,z),J.algo()}})}]);